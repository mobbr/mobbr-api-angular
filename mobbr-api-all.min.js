!function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrApi",["ngResource","ngStorage"]).factory("mobbrConfig",function(a,b){var c={url:b+"/api_v1/",isApiUrl:function(a){return 0===a.indexOf(c.url)}};return c}),a.module("mobbrApi").factory("MobbrApi",function(a,b){return a(b.url+"api/:action",{},{languages:{method:"GET",params:{action:"languages"}},exception:{method:"GET",params:{action:"exception"}},methods:{method:"GET",params:{action:"methods"}},forexCurrencies:{method:"GET",params:{action:"forex_currencies"}},forexRates:{method:"GET",params:{action:"forex_rates"}},isoLanguages:{method:"GET",params:{action:"iso_languages"}},isoCountries:{method:"GET",params:{action:"iso_countries"}},isoTimezones:{method:"GET",params:{action:"iso_timezones"}}})}),a.module("mobbrApi").factory("MobbrBalance",function(a,b){return a(b.url+"balances/:action",{},{user:{method:"GET",params:{action:"user"}},uri:{method:"GET",params:{action:"uri"}},domain:{method:"GET",params:{action:"domain"}}})}),a.module("mobbrApi").factory("MobbrDomain",function(a,b){return a(b.url+"domains/:action",{},{info:{method:"GET",params:{action:"info"}}})}),a.module("mobbrApi").factory("MobbrInvoice",function(a,b){return a(b.url+"invoices/:action",{},{requestable:{method:"GET",params:{action:"requestable"}},request:{method:"PUT",params:{action:"request"}},unrequest:{method:"PUT",params:{action:"unrequest"}},requested:{method:"GET",params:{action:"requested"}},confirmable:{method:"GET",params:{action:"confirmable"}},confirm:{method:"PUT",params:{action:"confirm"}},returned:{method:"GET",params:{action:"returned"}},confirmed:{method:"GET",params:{action:"confirmed"}}})}),a.module("mobbrApi").factory("MobbrPayment",function(a,b){return a(b.url+"payments/:action",{},{info:{method:"GET",params:{action:"info"}},historic:{method:"GET",params:{action:"historic"}},pledged:{method:"GET",params:{action:"pledged"}},pledges:{method:"GET",params:{action:"pledges"}},"new":{method:"GET",params:{action:"new"}},unpledge:{method:"DELETE",params:{action:"unpledge"}},preview:{method:"POST",params:{action:"preview"}},confirm:{method:"PUT",params:{action:"confirm"}},unclaimed:{method:"GET",params:{action:"unclaimed"}},claim:{method:"POST",params:{action:"claim"}},domain:{method:"GET",params:{action:"domain"}}})}),a.module("mobbrApi").factory("MobbrPerson",function(a,b){return a(b.url+"persons/:action",{},{url:{method:"GET",params:{action:"url"}},domain:{method:"GET",params:{action:"domain"}},payers:{method:"GET",params:{action:"payers"}},roles:{method:"GET",params:{action:"roles"}},topEarners:{method:"GET",params:{action:"top_earners"}},paid:{method:"GET",params:{action:"paid"}},earned:{method:"GET",params:{action:"earned"}},domainEarners:{method:"GET",params:{action:"domain_earners"}}})}),a.module("mobbrApi").factory("MobbrReferrer",function(a,b){return a(b.url+"referrers/:action",{},{domain:{method:"GET",params:{action:"domain"}},uri:{method:"GET",params:{action:"uri"}}})}),a.module("mobbrApi").factory("MobbrScript",function(a,b){return a(b.url+"script/:action",{},{validate:{method:"GET",params:{action:"validate"}}})}),a.module("mobbrApi").factory("MobbrUri",function(a,b){return a(b.url+"uris/:action",{},{payments:{method:"GET",params:{action:"payments"}},domain:{method:"GET",params:{action:"domain"}},top:{method:"GET",params:{action:"top"}},domainTop:{method:"GET",params:{action:"domain_top"}},unclaimed:{method:"GET",params:{action:"unclaimed"}},paid:{method:"GET",params:{action:"paid"}},earned:{method:"GET",params:{action:"earned"}},person:{method:"GET",params:{action:"person"}}})}),a.module("mobbrApi").factory("MobbrUser",function(a,b){return a(b.url+"user/:action",{},{passwordLogin:{method:"PUT",params:{action:"password_login"},interceptor:{}},linkLogin:{method:"PUT",params:{action:"link_login"},interceptor:{}},updateUser:{method:"POST",params:{action:"update_user"},interceptor:{}},logout:{method:"DELETE",params:{action:"logout"},interceptor:{}},ping:{method:"GET",params:{action:"ping"}},sendLoginLink:{method:"GET",params:{action:"send_login_link"}},register:{method:"PUT",params:{action:"register_user_send_login_link"}},updateEmail:{method:"POST",params:{action:"update_email"}},confirmEmail:{method:"POST",params:{action:"confirm_email"}},updatePassword:{method:"POST",params:{action:"update_password"}},uploadIdentityProof:{method:"POST",params:{action:"upload_identity_proof"}},profileStatus:{method:"GET",params:{action:"profile_status"}},currencies:{method:"GET",params:{action:"currencies"}}})}),a.module("mobbrApi").factory("MobbrXPayment",function(a,b){return a(b.url+"xpayments/:action",{},{info:{method:"GET",params:{action:"info"}},withdraw:{method:"POST",params:{action:"withdraw"}},prepareDeposit:{method:"GET",params:{action:"prepare_deposit"}},confirmDeposit:{method:"PUT",params:{action:"confirm_deposit"}},supportedCurrencies:{method:"GET",params:{action:"supported_currencies"}},newAccountAddress:{method:"PUT",params:{action:"new_account_address"}}})})}),function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrMsg",["mobbrApi"]).factory("mobbrMsg",function(){return{messages:[]}}).config(function(a){a.interceptors.push("mobbrMsgInterceptor")}),a.module("mobbrMsg").factory("mobbrMsgInterceptor",function(a,b){return{response:function(c){return a.isApiUrl(c.config.url)&&c.data.message&&b.messages.push({msg:c.data.message}),c},responseError:function(c){return console.log(c),a.isApiUrl(c.config.url)&&c.data.message&&b.messages.push({type:"danger",message:c.data.message}),c}}})}),function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrSession",["mobbrApi"]).factory("mobbrSession",function(a,b,c){return b.$mobbrStorage=a,b.$watch("$mobbrStorage.token",function(){b.$broadcast("mobbrApi:authchange",b.$mobbrStorage.user)}),{setUser:function(a){a.token&&(b.$mobbrStorage.token=a.token,delete a.token),b.$mobbrStorage.user=a},unsetUser:function(){delete b.$mobbrStorage.token,delete b.$mobbrStorage.user},isAuthorized:function(){return b.$mobbrStorage.token&&!0||!1},getAuthorization:function(){return"Basic "+c.btoa(":"+b.$mobbrStorage.token)}}}).config(function(a){a.interceptors.push("mobbrSessionInterceptor")}),a.module("mobbrSession").factory("mobbrSessionInterceptor",function(a,b,c){var d;return{request:function(a){return b.isApiUrl(a.url)&&c.isAuthorized()&&(a.headers.Authorization=c.getAuthorization()),a},response:function(b){d=d||a.get("MobbrUser"),console.log(b,d)},responseError:function(a){return b.isApiUrl(a.config.url)&&401===a.status&&c.unsetUser(),a}}})});