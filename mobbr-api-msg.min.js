!function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrMsg",["mobbrApi"]).factory("mobbrMsg",function(a){var b={messages:[],add:function(c,d){b.messages.push(c),d!==!1&&a(function(){b.close(b.messages.indexOf(c))},d||5e3)},close:function(a){b.messages.splice(a,1)}};return b}).config(function(a){a.interceptors.push("mobbrMsgInterceptor")}),a.module("mobbrMsg").factory("mobbrMsgInterceptor",function(a,b,c){return{response:function(a){return b.isApiUrl(a.config.url)&&a.data.message&&c.add({msg:a.data.message.text}),a},responseError:function(d){return d.config&&b.isApiUrl(d.config.url)&&d.data.message&&c.add({type:"danger",msg:d.data.message.text}),d.config||c.add({type:"danger",msg:d.message}),a.reject(d)}}})});