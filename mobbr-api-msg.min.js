!function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrMsg",["mobbrApi"]).factory("mobbrMsg",function(a){var b={messages:[],add:function(c,d){b.messages.push(c),d!==!1&&a(function(){b.close(b.messages.indexOf(c))},d||5e3)},close:function(a){b.messages.splice(a,1)}};return b}).config(function(a){a.interceptors.push("mobbrMsgInterceptor")}),a.module("mobbrMsg").factory("mobbrMsgInterceptor",function(a,b){return{response:function(c){return a.isApiUrl(c.config.url)&&c.data.message&&b.add({msg:c.data.message.text}),c},responseError:function(c){return a.isApiUrl(c.config.url)&&c.data.message&&b.add({type:"danger",message:c.data.message.text}),c}}})});