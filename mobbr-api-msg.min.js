!function(a,b){return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";a.module("mobbrMsg",["mobbrApi"]).factory("mobbrMsg",function(){var a={messages:[],add:function(b,c){a.messages.push(b),c!==!1&&$timeout(function(){a.close(a.messages.indexOf(b))},c||5e3)},close:function(b){a.messages.splice(b,1)}};return a}).config(function(a){a.interceptors.push("mobbrMsgInterceptor")}),a.module("mobbrMsg").factory("mobbrMsgInterceptor",function(a,b){return{response:function(c){return a.isApiUrl(c.config.url)&&c.data.message&&b.add({msg:c.data.message.text}),c},responseError:function(c){return a.isApiUrl(c.config.url)&&c.data.message&&b.add({type:"danger",message:c.data.message.text}),c}}})});